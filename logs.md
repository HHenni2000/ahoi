root@srv986747:~/ahoi# pm2 logs ahoi-api
[TAILING] Tailing last 15 lines for [ahoi-api] process (change the value with --lines option)
/root/.pm2/logs/ahoi-api-out.log last 15 lines:
8|ahoi-api | [Pipeline] Complete: 4 found, 0 new
8|ahoi-api | INFO:     95.91.230.13:4963 - "POST /api/sources/d31838aa-6faa-418b-96bd-a9a57380f686/scrape HTTP/1.1" 200 OK
8|ahoi-api | INFO:     95.91.230.13:4963 - "GET /api/sources?active_only=false HTTP/1.1" 200 OK
8|ahoi-api | [Database] Initialized at data/ahoi.db
8|ahoi-api | [API] Database initialized
8|ahoi-api | [Database] Initialized at data/ahoi.db
8|ahoi-api | [API] Database initialized
8|ahoi-api | [Pipeline] Stage 1: Discovering calendar URL for https://norddeutsches-tourneetheater.de/
8|ahoi-api | [Navigator] Found via LLM: https://norddeutsches-tourneetheater.de/#spielplan
8|ahoi-api | [Pipeline] Stage 2: Extracting events from https://norddeutsches-tourneetheater.de/#spielplan
8|ahoi-api | [Extractor] Found 4 events from https://norddeutsches-tourneetheater.de/#spielplan
8|ahoi-api | [Pipeline] Stage 3: Deduplicating 4 events
8|ahoi-api | [Pipeline] Complete: 4 found, 0 new
8|ahoi-api | INFO:     95.91.230.13:4964 - "POST /api/sources/d31838aa-6faa-418b-96bd-a9a57380f686/scrape HTTP/1.1" 200 OK
8|ahoi-api | INFO:     95.91.230.13:4964 - "GET /api/sources?active_only=false HTTP/1.1" 200 OK

/root/.pm2/logs/ahoi-api-error.log last 15 lines:
8|ahoi-api | 2026-02-04 20:17:08,259 | INFO | scraper.navigator | Navigator LLM selected: https://norddeutsches-tourneetheater.de/#spielplan
8|ahoi-api | 2026-02-04 20:17:08,259 | INFO | scraper.extractor | Extracting events from https://norddeutsches-tourneetheater.de/#spielplan
8|ahoi-api | 2026-02-04 20:17:08,311 | INFO | httpx | HTTP Request: GET https://norddeutsches-tourneetheater.de/#spielplan "HTTP/1.1 200 OK"
8|ahoi-api | 2026-02-04 20:17:08,750 | INFO | httpx | HTTP Request: GET https://docs.google.com/spreadsheets/d/e/2PACX-1vRGR5BK7ZoFwwCKLgHhsZS7Ah0S03fzJ_KX2GpWhGG7oUL_NL_VsD3nI99kniuZBM2_gpAurk500dT_/pubhtml?gid=0&single=true&widget=true&headers=false "HTTP/1.1 200 OK"
8|ahoi-api | 2026-02-04 20:17:08,800 | INFO | httpx | HTTP Request: GET https://www.openstreetmap.org/export/embed.html?bbox=9.925069212913515%2C53.553149265337126%2C9.935583472251894%2C53.55690005280205&layer=mapnik&marker=53.555026293999155%2C9.930326342582703 "HTTP/1.1 200 OK"
8|ahoi-api | 2026-02-04 20:17:25,721 | INFO | httpx | HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
8|ahoi-api | 2026-02-04 20:17:25,732 | INFO | scraper.extractor | Found 4 events from https://norddeutsches-tourneetheater.de/#spielplan
8|ahoi-api | INFO:     Shutting down
8|ahoi-api | INFO:     Waiting for application shutdown.
8|ahoi-api | INFO:     Application shutdown complete.
8|ahoi-api | INFO:     Finished server process [65255]
8|ahoi-api | INFO:     Started server process [65356]
8|ahoi-api | INFO:     Waiting for application startup.
8|ahoi-api | INFO:     Application startup complete.
8|ahoi-api | INFO:     Uvicorn running on http://0.0.0.0:8000 (Press CTRL+C to quit)

8|ahoi-api  | 2026-02-04 20:20:39,520 | DEBUG | httpcore.connection | connect_tcp.started host='norddeutsches-tourneetheater.de' port=443 local_address=None timeout=30.0 socket_options=None
8|ahoi-api  | 2026-02-04 20:20:39,533 | DEBUG | httpcore.connection | connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x72dedb8429f0>
8|ahoi-api  | 2026-02-04 20:20:39,533 | DEBUG | httpcore.connection | start_tls.started ssl_context=<ssl.SSLContext object at 0x72dedacc50d0> server_hostname='norddeutsches-tourneetheater.de' timeout=30.0
8|ahoi-api  | 2026-02-04 20:20:39,545 | DEBUG | httpcore.connection | start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x72dedad3e990>
8|ahoi-api  | 2026-02-04 20:20:39,545 | DEBUG | httpcore.http11 | send_request_headers.started request=<Request [b'GET']>
8|ahoi-api  | 2026-02-04 20:20:39,545 | DEBUG | httpcore.http11 | send_request_headers.complete
8|ahoi-api  | 2026-02-04 20:20:39,545 | DEBUG | httpcore.http11 | send_request_body.started request=<Request [b'GET']>
8|ahoi-api  | 2026-02-04 20:20:39,545 | DEBUG | httpcore.http11 | send_request_body.complete
8|ahoi-api  | 2026-02-04 20:20:39,545 | DEBUG | httpcore.http11 | receive_response_headers.started request=<Request [b'GET']>
8|ahoi-api  | 2026-02-04 20:20:39,556 | DEBUG | httpcore.http11 | receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Wed, 04 Feb 2026 19:20:39 GMT'), (b'Server', b'Apache'), (b'Upgrade', b'h2,h2c'), (b'Connection', b'Upgrade, Keep-Alive'), (b'Last-Modified', b'Fri, 30 Jan 2026 15:28:25 GMT'), (b'ETag', b'"2a2243-7699-6499c9fd4055e-gzip"'), (b'Accept-Ranges', b'bytes'), (b'Cache-Control', b'max-age=172800'), (b'Expires', b'Fri, 06 Feb 2026 19:20:39 GMT'), (b'Vary', b'Accept-Encoding'), (b'Content-Encoding', b'gzip'), (b'Content-Length', b'6559'), (b'Keep-Alive', b'timeout=5'), (b'Content-Type', b'text/html')])
8|ahoi-api  | 2026-02-04 20:20:39,558 | INFO | httpx | HTTP Request: GET https://norddeutsches-tourneetheater.de/ "HTTP/1.1 200 OK"
8|ahoi-api  | 2026-02-04 20:20:39,558 | DEBUG | httpcore.http11 | receive_response_body.started request=<Request [b'GET']>
8|ahoi-api  | 2026-02-04 20:20:39,558 | DEBUG | httpcore.http11 | receive_response_body.complete
8|ahoi-api  | 2026-02-04 20:20:39,558 | DEBUG | httpcore.http11 | response_closed.started
8|ahoi-api  | 2026-02-04 20:20:39,558 | DEBUG | httpcore.http11 | response_closed.complete
8|ahoi-api  | 2026-02-04 20:20:39,558 | DEBUG | scraper.navigator | Fetched https://norddeutsches-tourneetheater.de/ via httpx (30243 bytes)
8|ahoi-api  | 2026-02-04 20:20:39,796 | DEBUG | openai._base_client | Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'idempotency_key': 'stainless-python-retry-00a8e290-df86-4a79-8a55-09ccc29e58ed', 'content': None, 'json_data': {'messages': [{'role': 'user', 'content': 'Analyze this website\'s navigation HTML and identify the URL that leads to the event calendar, schedule, or specific performance dates page.\n\nBase URL: https://norddeutsches-tourneetheater.de/\n\nNavigation HTML:\n<nav aria-label="main navigation" class="navbar is-fixed-top has-shadow" role="navigation">\n<div class="navbar-brand">\n<a class="navbar-item" href="#home">\n<img src="img/Logo-Kindertheater-Wackelzahn.gif"/>\n</a>\n<a class="navbar-item is-hidden-desktop" href="#stuecke">Stücke</a>\n<a class="navbar-item is-hidden-desktop" href="#spielplan">Spielplan</a>\n<div class="navbar-item is-hidden-desktop">\n<div class="buttons">\n<a class="button is-warning is-small" href="#karten">Karten</a>\n</div>\n</div>\n</div>\n<div class="navbar-menu" id="navMenu">\n<div class="navbar-end">\n<a class="navbar-item" href="#theater">Theater</a>\n<a class="navbar-item" href="#stuecke">Aktuelle Stücke</a>\n<a class="navbar-item" href="#spielplan">Spielplan</a>\n<a class="navbar-item" href="#anfahrt">Anfahrt</a>\n<div class="navbar-item">\n<div class="buttons">\n<a class="button is-warning is-small" href="#karten">Karten</a>\n</div>\n</div>\n</div>\n</div>\n</nav>\n<nav aria-label="Navigation" class="navbar is-dark" role="navigation">\n<div class="navbar-brand">\n<a class="navbar-item" href="agb.html">AGB</a>\n<a class="navbar-item" href="datenschutz.html">Datenschutz</a>\n<a class="navbar-item" href="impressum.html">Impressum</a>\n</div>\n</nav>\n\nInstructions:\n1. Prefer links that contain concrete dates or words like: Spielplan, Termine, Kalender, Vorstellungen, Auff?hrungen\n2. Avoid links that look like repertoire/overview pages (e.g., St?cke, Repertoire, Produktionen, Ensemble)\n3. Avoid ticket/shop pages (Tickets, Online-Tickets, Shop, Kasse)\n4. Return ONLY the full URL (absolute, not relative)\n5. If you can\'t find a calendar URL, respond with: NONE\n\nCalendar URL:'}], 'model': 'gpt-4o-mini', 'max_tokens': 200, 'temperature': 0.0}}
8|ahoi-api  | 2026-02-04 20:20:39,801 | DEBUG | openai._base_client | Sending HTTP Request: POST https://api.openai.com/v1/chat/completions
8|ahoi-api  | 2026-02-04 20:20:39,801 | DEBUG | httpcore.connection | connect_tcp.started host='api.openai.com' port=443 local_address=None timeout=5.0 socket_options=None
8|ahoi-api  | 2026-02-04 20:20:39,809 | DEBUG | httpcore.connection | connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x72ded8587860>
8|ahoi-api  | 2026-02-04 20:20:39,810 | DEBUG | httpcore.connection | start_tls.started ssl_context=<ssl.SSLContext object at 0x72dedacc4fd0> server_hostname='api.openai.com' timeout=5.0
8|ahoi-api  | 2026-02-04 20:20:39,819 | DEBUG | httpcore.connection | start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x72ded867fe00>
8|ahoi-api  | 2026-02-04 20:20:39,820 | DEBUG | httpcore.http11 | send_request_headers.started request=<Request [b'POST']>
8|ahoi-api  | 2026-02-04 20:20:39,821 | DEBUG | httpcore.http11 | send_request_headers.complete
8|ahoi-api  | 2026-02-04 20:20:39,822 | DEBUG | httpcore.http11 | send_request_body.started request=<Request [b'POST']>
8|ahoi-api  | 2026-02-04 20:20:39,822 | DEBUG | httpcore.http11 | send_request_body.complete
8|ahoi-api  | 2026-02-04 20:20:39,822 | DEBUG | httpcore.http11 | receive_response_headers.started request=<Request [b'POST']>
8|ahoi-api  | 2026-02-04 20:20:40,603 | DEBUG | httpcore.http11 | receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Wed, 04 Feb 2026 19:20:40 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'access-control-expose-headers', b'X-Request-ID'), (b'openai-organization', b'user-pplkcojglajz3g4rnwdaxrln'), (b'openai-processing-ms', b'447'), (b'openai-project', b'proj_4VQ1uIwSMp9M2LY05INV9k9G'), (b'openai-version', b'2020-10-01'), (b'x-ratelimit-limit-requests', b'10000'), (b'x-ratelimit-limit-tokens', b'200000'), (b'x-ratelimit-remaining-requests', b'9999'), (b'x-ratelimit-remaining-tokens', b'199535'), (b'x-ratelimit-reset-requests', b'8.64s'), (b'x-ratelimit-reset-tokens', b'139ms'), (b'x-request-id', b'req_5dc6196920ea4515ad217a399908f977'), (b'x-openai-proxy-wasm', b'v0.1'), (b'cf-cache-status', b'DYNAMIC'), (b'Set-Cookie', b'__cf_bm=9TPMJ.Sg7N0sKE0pQBCcH9kT_ylaZ9qxuoLHpQT1QDo-1770232840-1.0.1.1-fh_Yxi_NTihjBomWOpsCShjFKpxY1g3LC.yjablb9m3TqpXZ8EF_5TsomANYvUUaR59fmizDv6udPNqVQyNyfulxxbBRTj50oHTBMDzdVTY; path=/; expires=Wed, 04-Feb-26 19:50:40 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'X-Content-Type-Options', b'nosniff'), (b'Set-Cookie', b'_cfuvid=e4PZ7LwXNk_OYjZ7M0izExNv6bL6deM2w8wzbvwirUg-1770232840603-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'Server', b'cloudflare'), (b'CF-RAY', b'9c8c86d0efedd36a-FRA'), (b'Content-Encoding', b'gzip'), (b'alt-svc', b'h3=":443"; ma=86400')])
8|ahoi-api  | 2026-02-04 20:20:40,605 | INFO | httpx | HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
8|ahoi-api  | 2026-02-04 20:20:40,605 | DEBUG | httpcore.http11 | receive_response_body.started request=<Request [b'POST']>
8|ahoi-api  | 2026-02-04 20:20:40,606 | DEBUG | httpcore.http11 | receive_response_body.complete
8|ahoi-api  | 2026-02-04 20:20:40,606 | DEBUG | httpcore.http11 | response_closed.started
8|ahoi-api  | 2026-02-04 20:20:40,606 | DEBUG | httpcore.http11 | response_closed.complete
8|ahoi-api  | 2026-02-04 20:20:40,606 | DEBUG | openai._base_client | HTTP Response: POST https://api.openai.com/v1/chat/completions "200 OK" Headers([('date', 'Wed, 04 Feb 2026 19:20:40 GMT'), ('content-type', 'application/json'), ('transfer-encoding', 'chunked'), ('connection', 'keep-alive'), ('access-control-expose-headers', 'X-Request-ID'), ('openai-organization', 'user-pplkcojglajz3g4rnwdaxrln'), ('openai-processing-ms', '447'), ('openai-project', 'proj_4VQ1uIwSMp9M2LY05INV9k9G'), ('openai-version', '2020-10-01'), ('x-ratelimit-limit-requests', '10000'), ('x-ratelimit-limit-tokens', '200000'), ('x-ratelimit-remaining-requests', '9999'), ('x-ratelimit-remaining-tokens', '199535'), ('x-ratelimit-reset-requests', '8.64s'), ('x-ratelimit-reset-tokens', '139ms'), ('x-request-id', 'req_5dc6196920ea4515ad217a399908f977'), ('x-openai-proxy-wasm', 'v0.1'), ('cf-cache-status', 'DYNAMIC'), ('set-cookie', '__cf_bm=9TPMJ.Sg7N0sKE0pQBCcH9kT_ylaZ9qxuoLHpQT1QDo-1770232840-1.0.1.1-fh_Yxi_NTihjBomWOpsCShjFKpxY1g3LC.yjablb9m3TqpXZ8EF_5TsomANYvUUaR59fmizDv6udPNqVQyNyfulxxbBRTj50oHTBMDzdVTY; path=/; expires=Wed, 04-Feb-26 19:50:40 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), ('strict-transport-security', 'max-age=31536000; includeSubDomains; preload'), ('x-content-type-options', 'nosniff'), ('set-cookie', '_cfuvid=e4PZ7LwXNk_OYjZ7M0izExNv6bL6deM2w8wzbvwirUg-1770232840603-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), ('server', 'cloudflare'), ('cf-ray', '9c8c86d0efedd36a-FRA'), ('content-encoding', 'gzip'), ('alt-svc', 'h3=":443"; ma=86400')])
8|ahoi-api  | 2026-02-04 20:20:40,606 | DEBUG | openai._base_client | request_id: req_5dc6196920ea4515ad217a399908f977
8|ahoi-api  | 2026-02-04 20:20:40,620 | INFO | scraper.navigator | Navigator LLM selected: https://norddeutsches-tourneetheater.de/#spielplan
8|ahoi-api  | 2026-02-04 20:20:40,622 | INFO | scraper.extractor | Extracting events from https://norddeutsches-tourneetheater.de/#spielplan
8|ahoi-api  | 2026-02-04 20:20:40,622 | DEBUG | scraper.extractor | Settings: model=gpt-4o-mini playwright=False max_iframes=3 max_content_length=15000
8|ahoi-api  | 2026-02-04 20:20:40,622 | DEBUG | httpcore.connection | connect_tcp.started host='norddeutsches-tourneetheater.de' port=443 local_address=None timeout=30.0 socket_options=None
8|ahoi-api  | 2026-02-04 20:20:40,628 | DEBUG | httpcore.connection | connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x72ded85a4fb0>
8|ahoi-api  | 2026-02-04 20:20:40,629 | DEBUG | httpcore.connection | start_tls.started ssl_context=<ssl.SSLContext object at 0x72dedacc5150> server_hostname='norddeutsches-tourneetheater.de' timeout=30.0
8|ahoi-api  | 2026-02-04 20:20:40,640 | DEBUG | httpcore.connection | start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x72ded85a45f0>
8|ahoi-api  | 2026-02-04 20:20:40,640 | DEBUG | httpcore.http11 | send_request_headers.started request=<Request [b'GET']>
8|ahoi-api  | 2026-02-04 20:20:40,641 | DEBUG | httpcore.http11 | send_request_headers.complete
8|ahoi-api  | 2026-02-04 20:20:40,641 | DEBUG | httpcore.http11 | send_request_body.started request=<Request [b'GET']>
8|ahoi-api  | 2026-02-04 20:20:40,641 | DEBUG | httpcore.http11 | send_request_body.complete
8|ahoi-api  | 2026-02-04 20:20:40,641 | DEBUG | httpcore.http11 | receive_response_headers.started request=<Request [b'GET']>
8|ahoi-api  | 2026-02-04 20:20:40,653 | DEBUG | httpcore.http11 | receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Wed, 04 Feb 2026 19:20:40 GMT'), (b'Server', b'Apache'), (b'Upgrade', b'h2,h2c'), (b'Connection', b'Upgrade, Keep-Alive'), (b'Last-Modified', b'Fri, 30 Jan 2026 15:28:25 GMT'), (b'ETag', b'"2a2243-7699-6499c9fd4055e-gzip"'), (b'Accept-Ranges', b'bytes'), (b'Cache-Control', b'max-age=172800'), (b'Expires', b'Fri, 06 Feb 2026 19:20:40 GMT'), (b'Vary', b'Accept-Encoding'), (b'Content-Encoding', b'gzip'), (b'Content-Length', b'6559'), (b'Keep-Alive', b'timeout=5'), (b'Content-Type', b'text/html')])
8|ahoi-api  | 2026-02-04 20:20:40,653 | INFO | httpx | HTTP Request: GET https://norddeutsches-tourneetheater.de/#spielplan "HTTP/1.1 200 OK"
8|ahoi-api  | 2026-02-04 20:20:40,653 | DEBUG | httpcore.http11 | receive_response_body.started request=<Request [b'GET']>
8|ahoi-api  | 2026-02-04 20:20:40,653 | DEBUG | httpcore.http11 | receive_response_body.complete
8|ahoi-api  | 2026-02-04 20:20:40,653 | DEBUG | httpcore.http11 | response_closed.started
8|ahoi-api  | 2026-02-04 20:20:40,653 | DEBUG | httpcore.http11 | response_closed.complete
8|ahoi-api  | 2026-02-04 20:20:40,654 | DEBUG | scraper.extractor | Fetched https://norddeutsches-tourneetheater.de/#spielplan via httpx (30243 bytes)
8|ahoi-api  | 2026-02-04 20:20:40,663 | DEBUG | scraper.extractor | Fetching iframe: https://docs.google.com/spreadsheets/d/e/2PACX-1vRGR5BK7ZoFwwCKLgHhsZS7Ah0S03fzJ_KX2GpWhGG7oUL_NL_VsD3nI99kniuZBM2_gpAurk500dT_/pubhtml?gid=0&single=true&widget=true&headers=false
8|ahoi-api  | 2026-02-04 20:20:40,664 | DEBUG | httpcore.connection | connect_tcp.started host='docs.google.com' port=443 local_address=None timeout=30.0 socket_options=None
8|ahoi-api  | 2026-02-04 20:20:40,667 | DEBUG | httpcore.connection | connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x72ded8617bc0>
8|ahoi-api  | 2026-02-04 20:20:40,667 | DEBUG | httpcore.connection | start_tls.started ssl_context=<ssl.SSLContext object at 0x72dedacc5150> server_hostname='docs.google.com' timeout=30.0
8|ahoi-api  | 2026-02-04 20:20:40,679 | DEBUG | httpcore.connection | start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x72ded8617ad0>
8|ahoi-api  | 2026-02-04 20:20:40,679 | DEBUG | httpcore.http11 | send_request_headers.started request=<Request [b'GET']>
8|ahoi-api  | 2026-02-04 20:20:40,679 | DEBUG | httpcore.http11 | send_request_headers.complete
8|ahoi-api  | 2026-02-04 20:20:40,679 | DEBUG | httpcore.http11 | send_request_body.started request=<Request [b'GET']>
8|ahoi-api  | 2026-02-04 20:20:40,681 | DEBUG | httpcore.http11 | send_request_body.complete
8|ahoi-api  | 2026-02-04 20:20:40,681 | DEBUG | httpcore.http11 | receive_response_headers.started request=<Request [b'GET']>
8|ahoi-api  | 2026-02-04 20:20:41,110 | DEBUG | httpcore.http11 | receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'text/html; charset=utf-8'), (b'X-Robots-Tag', b'noindex, nofollow, nosnippet'), (b'Cache-Control', b'no-cache, no-store, max-age=0, must-revalidate'), (b'Pragma', b'no-cache'), (b'Expires', b'Mon, 01 Jan 1990 00:00:00 GMT'), (b'Date', b'Wed, 04 Feb 2026 19:20:41 GMT'), (b'Content-Encoding', b'gzip'), (b'P3P', b'CP="This is not a P3P policy! See g.co/p3phelp for more info."'), (b'Content-Security-Policy', b"require-trusted-types-for 'script';report-uri https://csp.withgoogle.com/csp/docs-tt"), (b'Content-Security-Policy', b"base-uri 'self';object-src 'self';report-uri https://docs.google.com/spreadsheets/cspreport;script-src 'unsafe-inline' https: http: 'unsafe-eval';worker-src 'self' blob:"), (b'Reporting-Endpoints', b'default="/spreadsheets/d/e/2PACX-1vRGR5BK7ZoFwwCKLgHhsZS7Ah0S03fzJ_KX2GpWhGG7oUL_NL_VsD3nI99kniuZBM2_gpAurk500dT_/web-reports?bl=editors.spreadsheets-frontend_20260128.02_p5&context=eJwV1XdUlMcaBvDP3W8eVEDKiiDCAouuWFDBGI2CsHQSxZp8GzUxFlBU7C0WNEKwcG0xtlhAQUXBHoOJJQZiiXoRQyyIRjQLgtSlCXjF--SP35l3Zt7znpk5c2Y6Pva69_YzKaW9Iqk6KNJJS0U6b6VIPraKlEaf2imS1l6Rejoo0u_k3E2RvLWKlE7TPRXpql6R3vZWJOu-itTHW5G-66dIST6KtHugIu2jC0MUKStAka7Qq1BFao5UpBtRivSQehoVaTCpP1ckDeVPUKRiejSFueQ-VZE6TFekrvTBbEUKIc1yRXq8VpHKKCRBkcbTkM2KFEFjtijSFHpEr2jTLkX6gXrsVqRBlLlHkS5RG3Xaq0iT0rjGdI7T6lOKtIE6n1Gk7pR7SZEKyHCHdckxn-ul5w8VqYYyH7EW_VTI_VDO34r0J2lfKFI_2m1SpGPkWaJIA-kc5dANekhlpTwLmtaiSIvIoDZKY2iJbJS-pf4djVIAvbc1SjZ2RmlhV6O0jibqjdJssv7IKLnStaFGKZ8m-nGcNEFGyZMKw41SOWk-YZ82RxmlAzRwmVEKJv1yo_Qh9V5rlIbSc4f7km_vCtVQepBrVj2johd1qn_oWb96VQlZf1KvcqBGn0bVOwqLaFRFUcjaRtUIGreuUTWRome_UcXRBb9m1RVa69-s2kBhMc2qKHJLblb1pIIVLaoi2nS7RfUd-eS3qD6iUfatKoWerWtVlVBeaqvqIWml9yo9rXV5r9pAF5e_V12j8zaS-hKpXkjqjlRyuJ26Oa2dWkpvpz6fqlJfItV1lfp7L7V6P4WPU6tHUcF4tbqItn6jVu-mkevVaiOtKFGr15Gho6zu5SGrfeg_NUPl76lxlJ98Y7efnEeNWX7yO2oe7C9LQ_zl0t3-spnuuhjkv8gh0iC707OPDXIJNX5vkN_RrKAgeSGpVwXJlnTGMVi-SPoxwXI_Sl4aLO-gBxnBcglVnw6Wm-jBhWB5pT5ETiavjBB5APWtDZE_IANF0lraQFfoOjmaQ2Q36kMD_437hso9acSsUHk8LVkQKq-m8wtD5Vw6-F2ofJSsrobKnWnpzVD5WmmofItCBoXJIyh_bphcTC8Phcl1dK4sXM6hyc3h8gz62SFCHjs7Qp5AuzWRcgq9c4qU23eNlFMtPpYzaOKoFJE7NkXcodyZbCkjNkVcpA3ZKWIbWV1NES7kOixV3AtPFc_pu-epoqU-VbRrSBXZdJP6fXlIfDDqsPCjgs5poohWO6aJzfSuKE2Ip2lie02a2EsWbunCkbLpJs2LTRfLqHROuqgmzbJ04UkGGkN776eLIFO6-Jh06iPCl1y_PSJ6UELGEbGDLp49Iq7RJ0-PiIl02nBU_EreUUfFIEq8clRspeOJx8RZ8s06JoJo0YtjIoGeSRmiioRbhrCmLn4ZQk9PP88QJgrMPy5G08HyE-Ioxdpmiq8p0TtTbKUOn2QKO_KJyhQfUXB8poiib3dmis2kyckUniTZZwlb-mtTlnhOE3KzxCzyKc8SBvIYeFL4UI_BJ8UgurjkpLhFSdNOiS3UFndKYO4pkbn0tThPqfGvxRkK3_JatJ18LXDqtZiQXiFm0bA_KkQYDbhdIYaQ75MKkVNUIW5T-4BKYUu__Fwpcsgtp1L0pKTcSrGfThqrxAVq2lsl2ijhhyqRTLoDVcKX7KJrhAfNaqoTK0gceS8s6MogS_yXNOcskXfbEn_Tp3ctEU25f1migEKeWWI8fd5qiS_JZ44V8uda4TGJRCtk77PCZTqw3wqHqcZkhTf02MYaxWR1wRqdyf6iNZxpVLk1FFpUYY3lNGJIJ0yiZdc7YQ0d9LXBUSqMsUGPFBt4k1RhA1v6pKstJpKnsy36UEqgLU6TdrQtdh2xxUHKP26LB5RwwhYb6I9CW-SRurcdLCkykO15O2go474dLtJlb3vcpW4D7OFJo0LtodCaKfZYT7Er7PE1xZ-yRxKtzLdHGvmV2GMEFXpo8IKaemvQRr95azBtsAazyWmIBu40a5gGK6jPVA0GUkyMBrr7GvSm6AINHH_sjJ70y9POyKG9LZ1xnNTWDtBQm50DYO-AqpEOaCSXrx3QnfJWOOAh7U5yQAr5bnZAENlnOsCZzpQ54ESlAywOd4EN7S3qgkN082kX3CPfxi4IonFTHaGd4wg9xS11xGr6aocjZtKMPY5YRotqHNFPcsKHNMXdCbF0IMYJR6jbbCc8PekEEwXeckLEv247YTTNeeKExfS4e1eUUW1qVzRT2WHGZD_WGY60ZI0zVtOpBGdcpWmbnDGb5tY4Yyn5NzsjlFYFdUMixS3ohtWUv60bHlMXgwu6UfuPXWBNF8674Dr5_-6CULJ56oLOpH_mgj403scV0-nZJFeU0NxVroinH-NdUb3ZFfUkdrjCgf4864pHFPjQFRFU3-oK9VtXeFlpMYQK-2hRTu79tehBNVFaNNDXo7WIp7SlWmRSwC4tRlH741pYU8QJLUZS_ywtvn-ixV7a91SLVFpeo8Va6mrWQkv96rQYSPaebtDR8zFuqKGdE92wLMYNq2h_vBsO0YtEN5jJ_oIbnOkV3FFDGz90x3byn-COUHof647kve4Yf8wds2j4z-4Io9O33JFN-iZ3fEirfTywmcQMDyz9xgPxdGy7B7IoIM0D4dS-xgO2NKC_DkPoi3AdplL0Eh3i6HSSDtkUvlGHUbQmVYf1tOq_OnxDI_N0GEvraD3F3dNhIe2jVBqbr4NClyt1uEv5VEzw9UQn6uHvCW_aEOCJbZT3qScK6HGsJ4qp4wpP2NCmlZ7YSlOOeiKGPB94og9tad8dB2lmW3csp_k2eqylbd312EOdFD26UH-jHoPpf1P0sJqqR-F3epTT_cN6vCBTYk-U0yzZCwtpo_DCdupu4YW-FN_JC0lUZuuFKkqx80I6JfX1whZKHeyFM3Qv3gt_UdFhL_xDMx56YRmdoYv0Q6kXDlN_0QsBtM2mF_aQu30vHND0whFK6NwLyfSVcSjm0_SGoVhMt6RhKIkbhkbKTRqGAtqRNQz7KP7sMCRQOVXT1XPMoVdRfrzXfujxqR8G0c0FfrhHxfF-KKU-l_1w6aYf7tDLEj-8plzJH3fItNMflTRdGo7F9HbjcKg3DUfvP4djKNloA-BGed0D8JBejw5AKyUfDcA-mvwyAPNovRSIrfRj30Bcpsh5gYiiLw4EYiqdph9pzfFAJNL635lP114GIp829TBgJ5V_YEALHQ824CxZJBrgSBM2GzCLdAcM6E3BBw34Ld-AP6jDawPsqMQhCI006X0QppIhLBhd44LhQVXLgtFIg-OD8cPWYJygX4uC8TslFAdjB7X-E4z3dLUsGHlUUBGMIsqYGIIz1GF7CLpSXXUIWsmwKhSRZPs-FG32YYAmDDOmhWEOrVwbhgTamBKGvTT0WBiCaMmtMKymQY_DEEqdzGHQ0Ib_hcHDEA4f8psfDgO1WxKODrRyezhKM8NRTX-fZEz5t8NRTKY74aikiBfhGE33-kXgEb2dGAHLSRH4X0YE5OMReJAVgW3PI5BKPYsj0J_W6yPxH9rSMxKJ4yKRMSsSFwnJL9GJem57ib6UVPYSyXRVZ8INeqU34Q21jTYBY0x869in-QtMWELzz5mwnNb_bEJxmQklNLLchLF0q9GEe6RtMUFPY_UlmEo3A0pwl6ZnlqDauxQN9JVfKeZTxdpS1NP9zFIUkum3UlTS7tJS7Kdsl1e4ScWLXqGWTNmvUE5Vea_QSJoZZfCkkLllGEFT4sswc30Z4sh2bxnc6Up6Ga7TkytleE7IKUMnml1Txv-1DEENZbhsVY7fycm9HK50yKMcZ-nq2HLk0qUD5bhDYYfL8RmlFZcjk7a-LsdO8n5TjkFkXfUaDrTOrgKbqHpmBQoWVOAfilpegc_oYGIFTtHlUxW4S6qxlehI97MrUUgf5VTCQM_aKvGSdDFV6E1DYqvgT3P2V2EB_XKgCrfJKbUKrjTjThWWUUphFZoqqtBGpztU41cq9KvGC8o0VuMSrYqphld2NWbeqsZyWjOzBlvJfkMNRv5Yg0-p0x810NDL1hrU0QL_WrR-UQvVl7VonF8LsaAWCQtrkUwmavg3XlmLfRScUItxdIKM22qx-2ktKotr8X1bLdJpXHszBnxgRv0wM9R-ZpwbZ0Y2WShmtDOaYRtjhhMdmWdGJv25yIyXNCDJjDXJZmylEzvNsNpjRlmqGePOmpF0wYxd9FWOGSvkOjiIOlgMqIPJtw6Vw-pgpjl-dVhMRSPqcHdWHe6crEM-jetcj4Qx9Uim0sn1iJpaj18DG9ArqgEfkffnDfCnvyY34AklRjdgE_nEcJ70MxvQlz5b0YBnKxsw7WgD7h9vwCPKPtmAmzQmtwHLyDWvAaEVDYigk06NOE8HdY1Ipyw6R7_QNSqlSroQ1YjrtH97IwrpBf30UyNuUK8_GuFNN-gurR_RhK3UEteEbcebsIceX2zC35TzuAk3qamkCShtwoP6Jjyh3OYmFNCT9014Tg6d36AHrdC9wWv6zfAGN-nQl2_QZ8YbWFo044ZVM7q5NiNQ14zng5tRQ98sbMZ2itnajKW0srUZCWT8pgUzafiZFgTQpPMtsLvTgojHLRhNg560YCh9_bQFG0mjbkW3f7VvRR_aPrkVu8gisxVWdPRSKzJJymuFoHd930L2foukwW-xi27QQ0q68xaD_3wLJ7t3sHB7h31R7zC_8B0mf96GLV-1wd6y_caLW-7CNqP1jZOz3eglU-fELpoZPT1icdycz2Kjl-n6Rk-PXTxv4aJ-i-YvjJ4ynXPRixd5xyycN3dx9Nzpk30H-H44wMd3SL8BvpPnD_o_ET2wKQ&build-label=editors.spreadsheets-frontend_20260128.02_p5&imp-sid=CIqrop3HwJIDFTvazgAdgRctGw&is-cached-offline=false&cellSizeBucket=RITZ_SHEET_CELLS_1_TO_25K&wcrumsspbp=false"'), (b'Document-Policy', b'include-js-call-stacks-in-crash-reports'), (b'Referrer-Policy', b'origin'), (b'X-Content-Type-Options', b'nosniff'), (b'X-XSS-Protection', b'1; mode=block'), (b'Server', b'GSE'), (b'Set-Cookie', b'NID=528=YDEoJBB5Drka2-rHzGD0JXyWEvsm9C7hT5iS6arG7poOwfMpgskKsU9ohOtiUvuoAuBMDHJtLpQiL0FgD-vAzBnJxDXZmfiXSParmdmXkCtgYIwIl4bysriFNKtkFuU6wnU9m7TAGftAOepAWG2MHpHkMRS54htVhMrwfSQQgOg6XVKdkawTGsCjvz8sdr6Ywy8t4bdGr4kfPA; expires=Thu, 06-Aug-2026 19:20:40 GMT; path=/; domain=.google.com; HttpOnly'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000'), (b'x-l2-request-path', b'l2-managed-6'), (b'Transfer-Encoding', b'chunked')])
8|ahoi-api  | 2026-02-04 20:20:41,112 | INFO | httpx | HTTP Request: GET https://docs.google.com/spreadsheets/d/e/2PACX-1vRGR5BK7ZoFwwCKLgHhsZS7Ah0S03fzJ_KX2GpWhGG7oUL_NL_VsD3nI99kniuZBM2_gpAurk500dT_/pubhtml?gid=0&single=true&widget=true&headers=false "HTTP/1.1 200 OK"
8|ahoi-api  | 2026-02-04 20:20:41,112 | DEBUG | httpcore.http11 | receive_response_body.started request=<Request [b'GET']>
8|ahoi-api  | 2026-02-04 20:20:41,124 | DEBUG | httpcore.http11 | receive_response_body.complete
8|ahoi-api  | 2026-02-04 20:20:41,125 | DEBUG | httpcore.http11 | response_closed.started
8|ahoi-api  | 2026-02-04 20:20:41,125 | DEBUG | httpcore.http11 | response_closed.complete
8|ahoi-api  | 2026-02-04 20:20:41,125 | DEBUG | scraper.extractor | Fetched https://docs.google.com/spreadsheets/d/e/2PACX-1vRGR5BK7ZoFwwCKLgHhsZS7Ah0S03fzJ_KX2GpWhGG7oUL_NL_VsD3nI99kniuZBM2_gpAurk500dT_/pubhtml?gid=0&single=true&widget=true&headers=false via httpx (33944 bytes)
8|ahoi-api  | 2026-02-04 20:20:41,129 | DEBUG | scraper.extractor | Fetching iframe: https://www.openstreetmap.org/export/embed.html?bbox=9.925069212913515%2C53.553149265337126%2C9.935583472251894%2C53.55690005280205&layer=mapnik&marker=53.555026293999155%2C9.930326342582703
8|ahoi-api  | 2026-02-04 20:20:41,130 | DEBUG | httpcore.connection | connect_tcp.started host='www.openstreetmap.org' port=443 local_address=None timeout=30.0 socket_options=None
8|ahoi-api  | 2026-02-04 20:20:41,141 | DEBUG | httpcore.connection | connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x72ded8641e80>
8|ahoi-api  | 2026-02-04 20:20:41,142 | DEBUG | httpcore.connection | start_tls.started ssl_context=<ssl.SSLContext object at 0x72dedacc5150> server_hostname='www.openstreetmap.org' timeout=30.0
8|ahoi-api  | 2026-02-04 20:20:41,154 | DEBUG | httpcore.connection | start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x72ded8641dc0>
8|ahoi-api  | 2026-02-04 20:20:41,154 | DEBUG | httpcore.http11 | send_request_headers.started request=<Request [b'GET']>
8|ahoi-api  | 2026-02-04 20:20:41,154 | DEBUG | httpcore.http11 | send_request_headers.complete
8|ahoi-api  | 2026-02-04 20:20:41,154 | DEBUG | httpcore.http11 | send_request_body.started request=<Request [b'GET']>
8|ahoi-api  | 2026-02-04 20:20:41,154 | DEBUG | httpcore.http11 | send_request_body.complete
8|ahoi-api  | 2026-02-04 20:20:41,154 | DEBUG | httpcore.http11 | receive_response_headers.started request=<Request [b'GET']>
8|ahoi-api  | 2026-02-04 20:20:41,164 | DEBUG | httpcore.http11 | receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Wed, 04 Feb 2026 19:20:41 GMT'), (b'Server', b'Apache'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'Upgrade', b'h2,h2c'), (b'Connection', b'Upgrade, Keep-Alive'), (b'Last-Modified', b'Tue, 03 Feb 2026 22:15:49 GMT'), (b'ETag', b'"84f-649f2c82d1605-gzip"'), (b'Accept-Ranges', b'bytes'), (b'Cache-Control', b'max-age=604800'), (b'Expires', b'Wed, 11 Feb 2026 19:20:41 GMT'), (b'Vary', b'Accept-Encoding'), (b'Content-Encoding', b'gzip'), (b'Content-Length', b'854'), (b'Keep-Alive', b'timeout=5, max=100'), (b'Content-Type', b'text/html; charset=utf-8')])
8|ahoi-api  | 2026-02-04 20:20:41,165 | INFO | httpx | HTTP Request: GET https://www.openstreetmap.org/export/embed.html?bbox=9.925069212913515%2C53.553149265337126%2C9.935583472251894%2C53.55690005280205&layer=mapnik&marker=53.555026293999155%2C9.930326342582703 "HTTP/1.1 200 OK"
8|ahoi-api  | 2026-02-04 20:20:41,165 | DEBUG | httpcore.http11 | receive_response_body.started request=<Request [b'GET']>
8|ahoi-api  | 2026-02-04 20:20:41,165 | DEBUG | httpcore.http11 | receive_response_body.complete
8|ahoi-api  | 2026-02-04 20:20:41,165 | DEBUG | httpcore.http11 | response_closed.started
8|ahoi-api  | 2026-02-04 20:20:41,165 | DEBUG | httpcore.http11 | response_closed.complete
8|ahoi-api  | 2026-02-04 20:20:41,165 | DEBUG | scraper.extractor | Fetched https://www.openstreetmap.org/export/embed.html?bbox=9.925069212913515%2C53.553149265337126%2C9.935583472251894%2C53.55690005280205&layer=mapnik&marker=53.555026293999155%2C9.930326342582703 via httpx (2127 bytes)
8|ahoi-api  | 2026-02-04 20:20:41,172 | DEBUG | scraper.extractor | Inlined 2 iframe(s)
8|ahoi-api  | 2026-02-04 20:20:41,203 | DEBUG | scraper.extractor | Markdown length: 6141 chars
8|ahoi-api  | 2026-02-04 20:20:41,213 | DEBUG | scraper.extractor | Extracted 6 links (showing up to 5): ['http://www.norddeutsches-tourneetheater.de/online-tickets.html -> http://www.norddeutsches-tourneetheater.de/online-tickets.html', 'Direkt zur Bestellung -> https://norddeutsches-tourneetheater.de/online-tickets.html', 'Größere\n                    Karte anzeigen -> https://www.openstreetmap.org/?mlat=53.55503&mlon=9.93033#map=18/53.55502/9.93033', 'AGB -> https://norddeutsches-tourneetheater.de/agb.html', 'Datenschutz -> https://norddeutsches-tourneetheater.de/datenschutz.html']
8|ahoi-api  | 2026-02-04 20:20:41,216 | DEBUG | openai._base_client | Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'idempotency_key': 'stainless-python-retry-16bf2cdd-00a4-482c-9d74-781ed701de35', 'content': None, 'json_data': {'messages': [{'role': 'system', 'content': 'Du bist ein Experte für die Extraktion von Veranstaltungsdaten aus Webseiten für Familien in Hamburg.\n\nDeine Aufgabe:\n1. Extrahiere ALLE Veranstaltungen aus dem bereitgestellten Text\n2. Filtere NUR familienfreundliche Events, die für Kinder ab 4 Jahren geeignet sind\n3. Kategorisiere jedes Event PRÄZISE nach dem Hauptinhalt:\n\nKATEGORIEN (wähle die am besten passende):\n- theater: Theateraufführungen, Puppentheater, Musicals, Figurentheater, Kinderoper, Schauspiel, Lesungen mit Schauspiel\n- outdoor: Outdoor-Aktivitäten, Naturerlebnisse, Spielplatz-Events, Walderlebnisse, Tierparkbesuche, Radtouren, Wanderungen, Picknicks\n- museum: Museumsbesuche, Ausstellungen, Führungen, Planetarium, Science Center, interaktive Ausstellungen, Workshops in Museen\n- music: Konzerte für Kinder, Mitmachkonzerte, Musikworkshops, Kinderdisco, Singveranstaltungen\n- sport: Sportevents, Turniere, Sportkurse, Schwimmen, Klettern, Tanzkurse, Bewegungsangebote, Zirkusworkshops\n- market: Märkte, Flohmärkte, Festivals, Stadtteilfeste, Kinderfeste, Basare, Weihnachtsmärkte, Oster-Events\n\nKATEGORISIERUNGS-PRIORISIERUNG:\n- Wenn ein Theater auch Musik hat → "theater" (Hauptattraktion)\n- Wenn ein Museum einen Workshop anbietet → "museum" (Ort ist entscheidend)\n- Zirkus mit Aufführung → "theater", Zirkusworkshop zum Mitmachen → "sport"\n- Kinder-Flohmarkt → "market", nicht "outdoor" auch wenn draußen\n\nLOCATION-EXTRAKTION (WICHTIG!):\n- Extrahiere den VOLLSTÄNDIGEN Veranstaltungsort\n- Suche nach: Straße + Hausnummer, PLZ, Stadtteil\n- Typische Hamburger Stadtteile: Altona, Eimsbüttel, Eppendorf, Wandsbek, Barmbek, St. Pauli, HafenCity, Blankenese, Harburg, Bergedorf, Winterhude, Ottensen, Uhlenhorst\n- Wenn nur der Venue-Name bekannt ist (z.B. "Klecks Theater"), verwende diesen als location.name\n- Wenn eine Adresse im Text vorkommt, diese VOLLSTÄNDIG in location.address übernehmen\n- Bei bekannten Hamburger Venues die Standardadresse verwenden falls bekannt\n\nWichtige Regeln:\n- Ignoriere Events die explizit für Erwachsene sind (z.B. "Abendvorstellung für Erwachsene", "ab 16 Jahren")\n- Wenn keine Altersangabe vorhanden ist, schätze basierend auf dem Kontext\n- Preise immer als String formatieren (z.B. "8€", "5-10€", "Kostenlos", "Eintritt frei")\n- Bei unbekannten Daten "Unbekannt" verwenden\n- is_indoor: true für Indoor-Events (Theater, Museum, Hallen), false für Outdoor-Events (Parks, Märkte im Freien)\n- Datum: Verwende das aktuelle Jahr 2026 wenn kein Jahr angegeben ist'}, {'role': 'user', 'content': 'Extrahiere alle familienfreundlichen Veranstaltungen aus diesem Text.\n\nQuelle: Norddeutsches tourneetheater\nURL: https://norddeutsches-tourneetheater.de/#spielplan\n\nWebseiten-Inhalt:\n[Stücke](#stuecke)\n[Spielplan](#spielplan)\n[Karten](#karten)\n[Theater](#theater)\n[Aktuelle Stücke](#stuecke)\n[Spielplan](#spielplan)\n[Anfahrt](#anfahrt)\n[Karten](#karten)\n**\\*\\*\\* Das Premieren -Wochenende von "Rumpelstilzchen" ist ausverkauft \\*\\*\\***\n**\\*\\*\\* Wir bieten vormittags von Montag bis Freitag Vorstellungen für Kita- und Schulgruppen an. Eine Terminabsprache**erfolgt am besten telefonisch \\*\\*\\*****\n**Besuchen Sie uns auch auf Instagram: @wackelzahntheater**\n**Bitte reservieren Sie online (<http://www.norddeutsches-tourneetheater.de/online-tickets.html>), telefonisch ([040-29812139](tel:040-29812139)) oder per Email ([info@kindertheater-wackelzahn.de](mailto:info@kindertheater-wackelzahn.de)) Vor Buchungen und Absagen lesen Sie bitte unsere AGB.**\n# Hoftheater Ottensen\n## Unsere Spielstätte hat ca. 80 Sitzplätze. Wir bieten ein Programm für Kinder und Jugendliche.\n## Von Montag bis Freitag finden unsere Vormittagsvorstellungen für Kitas und Schulen statt.\n## Bitte reservieren Sie Ihre Karten frühzeitig per Email.\n# Aktuelle Stücke\n## (Montag-Freitag für Kitas und Schulen)\n30. Jan – 22. März 2026\n## Rumpelstilzchen\n### Das beliebte Märchen der Gebrüder Grimm – neu erzählt und voller Musik! Eine mitreißende Inszenierung von Jan Radermacher.\n„Ach wie gut, dass niemand weiß, dass ich Rumpelstilzchen heiß!“ Ja, fast jeder kennt den Namen\ndes kleinen Männleins, das Stroh zu Gold spinnen kann. Nur Annabell, die Müllertochter muss\neinige Abenteuer überstehen, bis sie den Namen heraus findet und die Geschichte ein gutes Ende\nnimmt.\n## Ein farbenfrohes Bühnenbild, hinreißende Kostüme und flotte Musik garantieren einen märchenhaften Nachmittag.\nab 4 Jahre \xa0 | \xa0 45 Minuten\nFotos\n27. März – 25. Mai 2026\n## Aschenputtel\n### Ein Märchen nach den Gebrüdern Grimm mit viel Musik von Jan Radermacher.\nDieses Märchen gehört wohl zu den bekanntesten und beliebtesten aus der Sammlung der Gebrüder\nGrimm. Aschenputtel muss im Haus die ganze Arbeit machen, während ihre Stiefmutter und ihre\nStiefschwester sich nur über sie lustig machen. Aber sie gibt die Hoffnung nicht auf, dass sich\nihre Träume irgendwann erfüllen werden. Eines Tages lädt der Prinz zu einem großen Ball ein für\nden auch Aschenputtel eine Einladung erhält.\n## Freuen Sie sich auf eine Inszenierung voller Witz und Abenteuer. Ein farbenfrohes Bühnenbild, prächtige Gewänder und schwungvolle Musik verzaubern kleine und große Zuschauer.\nab 4 Jahre \xa0 | \xa0 45 Minuten\nFotos\n02. – 27. Feb 2026\n## Artus hat Angst\n### Ein Theaterstück für Kitagruppen zum Umgang mit Angst von und mit Leif Scheele.\nArtus ist ein richtiger Ritter!\nAlles kein Problem für ihn: Rüstung tragen, auf Turnieren kämpfen, Burgfräulein retten.\nNur vor Drachen hat Artus Angst. Er hat ja auch noch nie einen gesehen oder mit ihm gesprochen!\nSpucken die nicht sogar Feuer? Das behaupten zumindest die anderen Ritter, obwohl die auch\nnoch nie einen Drachen gesehen haben. Vielleicht spucken Drachen ja Wasser! Oder sogar\nEiscreme! Das würde Artus allerdings gefallen.\nUnd was ist, wenn das Burgfräulein gar nicht gerettet werden will?\nArtus muss also mit seiner Angst umgehen. Und das möchte Artus lernen. Dann ist er gegen\nseine Angst gerüstet.\n## Hast Du Lust, Dich auch gegen Angst zu rüsten? Vielleicht hast Du ja auch manchmal Angst. Komm, wir rüsten uns gemeinsam mit Artus im Kindertheater Wackelzahn!\nab 3 Jahre \xa0 | \xa0 50 Minuten\n13. Apr – 22. Mai 2026\n## Ich wehr mich\n### Ein Präventionsstück für Vorschul- und Schulgruppen zum Thema Mobbing von Jan Radermacher.\nEigentlich geht Milli gern zur Schule. Sie hat gute Noten, lernen macht ihr Spaß und morgens kann\nsie es kaum erwarten, endlich mit ihren Schulkameraden rumtoben zu können. Doch dann spielt\nLukas lieber mit Lara und sie darf nicht mehr mitmachen. Ihre ehemaligen Freunde fangen sogar an\nsie zu ärgern, ihr Schimpfnamen zu geben, sie rumzuschubsen und setzen schlimme Gerüchte über\nsie in die Welt. Plötzlich ist alles anders und die Schule macht gar keinen Spaß mehr…\n## Auf spielerische und gefühlvolle Art zeigt dieses Stück mit Musik seinen Zuschauern: Nicht ertragen und wegsehen - HINSEHEN, WEHREN, HELFEN! Bei Buchung gibt es eine kostenlose Arbeitsmappe per E-Mail.\nab 5 Jahre \xa0 | \xa0 45 Minuten\n## Aschenputtel\n### 27. März – 25. Mai 2026\n## Rumpelstilzchen\n### 30. Jan – 22. März 2026\n# Spielplan\n# Tickets online\n[Direkt zur Bestellung](online-tickets.html)\n# oder Reservierung per Telefon/Email Ticketpreis: 9 € pro Person **Falls online keine Tickets mehr verfügbar sind, rufen Sie uns bitte an.** Außerdem bieten wir nach Absprache von Montag- Freitag Vorstellungen für Kita- und Schulgruppen an. Vor Buchungen und Absagen lesen Sie Bitte unser AGB.\n## Ticketpreis für Kita- oder Schulgruppen: 8 € pro Kind (das Begleitpersonal hat freien Eintritt) Außerdem bieten wir Ihnen Geschenkgutscheine zum Verkauf.\nTelefon: [040-29812139](tel:040-29812139)\n[info@kindertheater-wackelzahn.de](mailto:info@kindertheater-wackelzahn.de)\n# Anfahrt zum Kindertheater Wackelzahn\n## Hoftheater Ottensen Abbestraße 33 22765 Hamburg\n[Größere\nKarte anzeigen](https://www.openstreetmap.org/?mlat=53.55503&mlon=9.93033#map=18/53.55502/9.93033)\n**Unser Theater** befindet sich im Hinterhof der Abbestraße 33, 22765 Hamburg-Ottensen\nim Stadtteil Altona und ist nicht mehr als 400 Meter oder 10 Gehminuten vom Bahnhof Hamburg-Altona\nentfernt.\n**Zu Fuß:** Nehmen Sie den Bahnhofsausgang bei dem Geschäft „Nanu Nana“ (Ausgang\nOttenser Hauptstraße). Biegen Sie gleich dahinter rechts in den Hahnenkamp ab und gehen Sie direkt\nan dem Alnatura Laden vorbei. An der ersten\nGabelung folgen Sie der Straße Hohenesch schräg geradeaus. Nach wenigen Minuten biegen Sie rechts in\ndie Abbestraße. Der Hofeingang zu unserem Theater befindet sich fast am Ende der Straße auf der\nlinken Seite.\n**Mit dem Bus:** Sie erreichen uns mit den Linien 2, 16, 115, 150 und 288 zur\nHaltestelle Große Rainstraße und mit Nr. 2, 16 und 288 zur Haltestelle Hohenesch.\n**Mit dem Auto:** Bitte beachten Sie, dass auf dem Hof vor dem Theater **keine\nParkplätze** zur Verfügung stehen.\n[AGB](agb.html)\n[Datenschutz](datenschutz.html)\n[Impressum](impressum.html)\n\nVerfuegbare Links (Text -> URL):\nhttp://www.norddeutsches-tourneetheater.de/online-tickets.html -> http://www.norddeutsches-tourneetheater.de/online-tickets.html\nDirekt zur Bestellung -> https://norddeutsches-tourneetheater.de/online-tickets.html\nGrößere\n                    Karte anzeigen -> https://www.openstreetmap.org/?mlat=53.55503&mlon=9.93033#map=18/53.55502/9.93033\nAGB -> https://norddeutsches-tourneetheater.de/agb.html\nDatenschutz -> https://norddeutsches-tourneetheater.de/datenschutz.html\nImpressum -> https://norddeutsches-tourneetheater.de/impressum.html\n\nAntworte NUR mit einem JSON-Array von Events im folgenden Format:\n[\n  {\n    "title": "Event-Titel (pr?gnant, ohne Datum im Titel)",\n    "description": "Kurze Beschreibung des Events (max 200 Zeichen, was erwartet die Familie?)",\n    "date_start": "2026-02-15T15:00:00",\n    "date_end": "2026-02-15T17:00:00",\n    "location": {\n      "name": "Veranstaltungsort (z.B. Klecks Theater, Tierpark Hagenbeck)",\n      "address": "Vollst?ndige Adresse: Stra?e Hausnummer, PLZ Hamburg-Stadtteil",\n      "district": "Hamburger Stadtteil (z.B. Altona, Eimsb?ttel, Wandsbek)"\n    },\n    "category": "theater|outdoor|museum|music|sport|market",\n    "is_indoor": true,\n    "age_suitability": "4+" oder "0-3" oder "6+" oder "alle",\n    "price_info": "8?" oder "5-10?" oder "Kostenlos",\n    "original_link": "https://... (direkter Link zur Event-Detailseite)"\n  }\n]\n\nWICHTIG zur Location:\n- Wenn die Quelle selbst ein Veranstaltungsort ist (z.B. ein Theater), verwende dessen Namen und Adresse\n- Suche im Text nach Stra?ennamen, PLZ (20xxx f?r Hamburg), Stadtteilen\n- "district" ist optional aber hilfreich f?r die Filterung\n\nWICHTIG zu Terminen:\n- Wenn mehrere konkrete Termine/Uhrzeiten genannt werden, erstelle EIN Event pro Termin\n- Wenn nur ein Zeitraum genannt wird (z.B. 05.02-03.03) und keine einzelnen Termine vorhanden sind, setze date_start UND date_end und behandle es als durchgehend/laufend\n- Wenn Formulierungen wie "jeden Samstag", "immer Sonntags" oder "Mo-Fr" plus Zeitraum vorkommen, erstelle Termine fuer jeden passenden Wochentag innerhalb des Zeitraums\n- Wenn der Zeitraum nur eine Laufzeit beschreibt (Ausstellung/Produktion), verwende date_end und keine kuenstliche Terminliste\n\nWICHTIG zu Links:\n- Nutze wenn m?glich den spezifischen Detail-Link zum Event (nicht die Kalender-Uebersicht)\n- Verwende dafuer die Linkliste oder Links im Text\n- Falls kein Detail-Link erkennbar ist, nutze die Kalender-URL als Fallback\n\nWenn keine passenden Events gefunden werden, antworte mit: []'}], 'model': 'gpt-4o-mini', 'max_tokens': 4000, 'temperature': 0.1}}
8|ahoi-api  | 2026-02-04 20:20:41,219 | DEBUG | openai._base_client | Sending HTTP Request: POST https://api.openai.com/v1/chat/completions
8|ahoi-api  | 2026-02-04 20:20:41,219 | DEBUG | httpcore.http11 | send_request_headers.started request=<Request [b'POST']>
8|ahoi-api  | 2026-02-04 20:20:41,220 | DEBUG | httpcore.http11 | send_request_headers.complete
8|ahoi-api  | 2026-02-04 20:20:41,220 | DEBUG | httpcore.http11 | send_request_body.started request=<Request [b'POST']>
8|ahoi-api  | 2026-02-04 20:20:41,221 | DEBUG | httpcore.http11 | send_request_body.complete
8|ahoi-api  | 2026-02-04 20:20:41,221 | DEBUG | httpcore.http11 | receive_response_headers.started request=<Request [b'POST']>
8|ahoi-api  | 2026-02-04 20:20:54,786 | DEBUG | httpcore.http11 | receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Wed, 04 Feb 2026 19:20:54 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'access-control-expose-headers', b'X-Request-ID'), (b'openai-organization', b'user-pplkcojglajz3g4rnwdaxrln'), (b'openai-processing-ms', b'13230'), (b'openai-project', b'proj_4VQ1uIwSMp9M2LY05INV9k9G'), (b'openai-version', b'2020-10-01'), (b'x-ratelimit-limit-requests', b'10000'), (b'x-ratelimit-limit-tokens', b'200000'), (b'x-ratelimit-remaining-requests', b'9998'), (b'x-ratelimit-remaining-tokens', b'197118'), (b'x-ratelimit-reset-requests', b'15.91s'), (b'x-ratelimit-reset-tokens', b'864ms'), (b'x-request-id', b'req_838b25727efc4b63b72e2623790c0604'), (b'x-openai-proxy-wasm', b'v0.1'), (b'cf-cache-status', b'DYNAMIC'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'9c8c86d9af06d36a-FRA'), (b'Content-Encoding', b'gzip'), (b'alt-svc', b'h3=":443"; ma=86400')])
8|ahoi-api  | 2026-02-04 20:20:54,788 | INFO | httpx | HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
8|ahoi-api  | 2026-02-04 20:20:54,788 | DEBUG | httpcore.http11 | receive_response_body.started request=<Request [b'POST']>
8|ahoi-api  | 2026-02-04 20:20:54,796 | DEBUG | httpcore.http11 | receive_response_body.complete
8|ahoi-api  | 2026-02-04 20:20:54,796 | DEBUG | httpcore.http11 | response_closed.started
8|ahoi-api  | 2026-02-04 20:20:54,796 | DEBUG | httpcore.http11 | response_closed.complete
8|ahoi-api  | 2026-02-04 20:20:54,796 | DEBUG | openai._base_client | HTTP Response: POST https://api.openai.com/v1/chat/completions "200 OK" Headers({'date': 'Wed, 04 Feb 2026 19:20:54 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-expose-headers': 'X-Request-ID', 'openai-organization': 'user-pplkcojglajz3g4rnwdaxrln', 'openai-processing-ms': '13230', 'openai-project': 'proj_4VQ1uIwSMp9M2LY05INV9k9G', 'openai-version': '2020-10-01', 'x-ratelimit-limit-requests': '10000', 'x-ratelimit-limit-tokens': '200000', 'x-ratelimit-remaining-requests': '9998', 'x-ratelimit-remaining-tokens': '197118', 'x-ratelimit-reset-requests': '15.91s', 'x-ratelimit-reset-tokens': '864ms', 'x-request-id': 'req_838b25727efc4b63b72e2623790c0604', 'x-openai-proxy-wasm': 'v0.1', 'cf-cache-status': 'DYNAMIC', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '9c8c86d9af06d36a-FRA', 'content-encoding': 'gzip', 'alt-svc': 'h3=":443"; ma=86400'})
8|ahoi-api  | 2026-02-04 20:20:54,796 | DEBUG | openai._base_client | request_id: req_838b25727efc4b63b72e2623790c0604
8|ahoi-api  | 2026-02-04 20:20:54,797 | DEBUG | scraper.extractor | LLM tokens used: 3934
8|ahoi-api  | 2026-02-04 20:20:54,800 | INFO | scraper.extractor | Found 4 events from https://norddeutsches-tourneetheater.de/#spielplan
8|ahoi-api  | 2026-02-04 20:20:54,801 | DEBUG | httpcore.connection | close.started
8|ahoi-api  | 2026-02-04 20:20:54,801 | DEBUG | httpcore.connection | close.complete
8|ahoi-api  | 2026-02-04 20:20:54,801 | DEBUG | httpcore.connection | close.started
8|ahoi-api  | 2026-02-04 20:20:54,801 | DEBUG | httpcore.connection | close.complete
8|ahoi-api  | 2026-02-04 20:20:54,801 | DEBUG | httpcore.connection | close.started
8|ahoi-api  | 2026-02-04 20:20:54,802 | DEBUG | httpcore.connection | close.complete
8|ahoi-api  | 2026-02-04 20:20:54,802 | DEBUG | httpcore.connection | close.started
8|ahoi-api  | 2026-02-04 20:20:54,802 | DEBUG | httpcore.connection | close.complete
8|ahoi-api  | [Database] Initialized at data/ahoi.db
8|ahoi-api  | [API] Database initialized
8|ahoi-api  | [Pipeline] Stage 1: Discovering calendar URL for https://norddeutsches-tourneetheater.de/
8|ahoi-api  | [Navigator] Found via LLM: https://norddeutsches-tourneetheater.de/#spielplan
8|ahoi-api  | [Pipeline] Stage 2: Extracting events from https://norddeutsches-tourneetheater.de/#spielplan
8|ahoi-api  | [Extractor] Found 4 events from https://norddeutsches-tourneetheater.de/#spielplan
8|ahoi-api  | [Pipeline] Stage 3: Deduplicating 4 events
8|ahoi-api  | [Pipeline] Complete: 4 found, 0 new
8|ahoi-api  | INFO:     95.91.230.13:5031 - "POST /api/sources/d31838aa-6faa-418b-96bd-a9a57380f686/scrape HTTP/1.1" 200 OK
8|ahoi-api  | INFO:     95.91.230.13:5031 - "GET /api/sources?active_only=false HTTP/1.1" 200 OK

